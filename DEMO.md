# 「板樂」專案展示說明

## 專題資訊

- **專題名稱**: 板樂 (Board Music Game)
- **類型**: 軟硬體整合音樂遊戲
- **硬體**: 樹莓派 + 麵包板 + LED + 按鈕
- **軟體**: Node.js + WebSocket + Canvas
- **特色**: AI 友善的譜面格式

## 展示流程建議

### 第一部分：專題介紹 (2-3 分鐘)

**說明重點**:
1. 這是一個結合實體硬體和網頁的下落式音樂遊戲
2. 名稱「板樂」來自「麵包板」+「音樂」
3. 類似 CHUNITHM、世界計劃等下落式音遊
4. 可在網頁上玩，也可搭配實體硬體操作

**展示架構圖**:
```
網頁介面 ←→ 樹莓派伺服器 ←→ 實體硬體
  (選歌)      (遊戲邏輯)      (LED+按鈕)
```

### 第二部分：系統展示 (5-7 分鐘)

#### 1. 啟動系統
```bash
npm start
```

展示伺服器啟動訊息：
- ✅ 伺服器運行在 port 3000
- ✅ 硬體狀態（模擬模式或實體模式）

#### 2. 網頁介面展示

**開啟瀏覽器**: `http://localhost:3000`

**展示三個主要畫面**:

a) **選歌畫面**
   - 顯示歌曲卡片
   - 顯示難度標籤（EASY、HARD）
   - 顯示連線狀態
   - 顯示硬體狀態

b) **遊戲畫面**
   - Canvas 渲染的遊戲畫面
   - 音符從上往下落
   - 紅色判定線
   - 即時分數和連擊數
   - 按鍵操作示範 (D/F/J/K)

c) **結果畫面**
   - 總分
   - 準確度
   - Perfect/Great/Good/Miss 統計
   - 最高連擊

#### 3. 實際遊玩

**建議**：先玩 EASY 難度展示基本功能，再玩 HARD 難度展示複雜譜面

**解說重點**:
- 音符會提前 2 秒開始顯示
- 到達紅線時按對應按鍵
- 判定有 Perfect/Great/Good/Miss 四個等級
- 連續命中可累積 Combo

### 第三部分：技術特色 (3-5 分鐘)

#### 1. AI 友善的譜面格式

**展示檔案**: [charts/examples/demo-easy.json](charts/examples/demo-easy.json)

**說明**:
```json
{
  "metadata": {
    "title": "Demo Song",
    "bpm": 120,
    "difficulty": "EASY"
  },
  "notes": [
    {"time": 1000, "lane": 0, "type": "tap"}
  ]
}
```

**特色**:
- 簡單的 JSON 格式
- AI 容易理解和生成
- 完整的 JSON Schema 驗證
- 詳細的 AI 生成指南

#### 2. AI 生成展示

**展示檔案**: [charts/AI_GENERATION_GUIDE.md](charts/AI_GENERATION_GUIDE.md)

**說明如何用 AI 生成譜面**:

1. 準備歌曲資訊（歌名、BPM、長度）
2. 給 AI (ChatGPT/Claude) 提示詞
3. AI 輸出完整譜面 JSON
4. 放入 `charts/examples/` 目錄
5. 重新整理網頁即可遊玩

**可以現場示範**：
- 打開 ChatGPT/Claude
- 貼上範例提示詞
- 展示 AI 生成的譜面
- （如果時間允許）將生成的譜面加入遊戲測試

#### 3. 即時通訊架構

**說明 WebSocket 的運作**:
- 瀏覽器與伺服器雙向通訊
- 即時傳送遊戲狀態
- 低延遲的按鍵回應
- 自動重連機制

**可展示**: 打開瀏覽器開發者工具 (F12) 的 Network 標籤，顯示 WebSocket 連線

### 第四部分：硬體整合說明 (2-3 分鐘)

**（如果沒有實體硬體）**

**展示文件**: [src/hardware/README.md](src/hardware/README.md)

**說明**:
1. 硬體配置：4 條軌道，每條 5 個 LED + 1 個按鈕
2. GPIO 引腳配置表
3. 接線示意圖
4. 模擬模式與實體模式的切換

**強調**:
- 目前在模擬模式運行（沒有實體硬體）
- 軟體已預留完整的硬體控制接口
- 使用 `onoff` 套件控制 GPIO
- 接上樹莓派後只需修改一行程式碼即可啟用

**（如果有實體硬體）**

**展示重點**:
1. 實體 LED 燈與網頁畫面同步
2. 按下實體按鈕的即時反應
3. LED 燈模擬音符下落
4. 硬體與軟體的完美配合

### 第五部分：程式碼展示 (選擇性，3-5 分鐘)

**如果評審想看程式碼**，可以展示：

#### 1. 後端遊戲引擎
[src/server/gameEngine.js](src/server/gameEngine.js)

**重點功能**:
- 遊戲主循環（60 FPS）
- 音符激活邏輯
- 判定系統（時間差計算）
- 分數計算

#### 2. 前端 Canvas 渲染
[public/js/game.js](public/js/game.js)

**重點功能**:
- 音符動畫
- 軌道繪製
- 判定線效果
- 視覺回饋

#### 3. 硬體控制器
[src/hardware/controller.js](src/hardware/controller.js)

**重點功能**:
- GPIO 初始化
- LED 控制
- 按鈕中斷處理
- 模擬模式實作

### 第六部分：Q&A 準備

**可能的問題與答案**:

**Q: 為什麼選擇這個專題？**
A: 結合軟硬體，有趣又實用。音樂遊戲具有即時性，能展現系統整合能力。

**Q: 如何確保判定的準確性？**
A: 使用毫秒級時間戳，60 FPS 遊戲循環，低延遲的 WebSocket 通訊。

**Q: AI 生成的譜面品質如何？**
A: 提供詳細的生成指南，包含音樂理論和遊戲設計原則，確保 AI 生成合理的譜面。

**Q: 如果沒有樹莓派可以玩嗎？**
A: 可以！系統有模擬模式，在一般電腦上也能完整遊玩。

**Q: 可以擴展什麼功能？**
A: 音訊播放、長按音符、多人對戰、排行榜、譜面編輯器等。

**Q: 譜面格式為什麼用 JSON？**
A: JSON 是通用格式，AI 容易理解，也方便人類閱讀和編輯。

**Q: 技術難點是什麼？**
A: 即時同步（WebSocket）、精確的時間控制、硬體整合、遊戲平衡調整。

## 展示檢查清單

### 事前準備

- [ ] 確認 Node.js 已安裝
- [ ] 執行 `npm install` 安裝依賴
- [ ] 測試伺服器能正常啟動
- [ ] 測試網頁能正常開啟
- [ ] 準備好要展示的瀏覽器分頁
- [ ] 關閉不相關的應用程式
- [ ] （可選）準備投影設備

### 檔案準備

- [ ] [README.md](README.md) - 專案介紹
- [ ] [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md) - 完整總結
- [ ] [GETTING_STARTED.md](GETTING_STARTED.md) - 使用教學
- [ ] [charts/AI_GENERATION_GUIDE.md](charts/AI_GENERATION_GUIDE.md) - AI 指南
- [ ] [src/hardware/README.md](src/hardware/README.md) - 硬體說明

### 展示時開啟

- [ ] 終端機（執行 `npm start`）
- [ ] 瀏覽器（`http://localhost:3000`）
- [ ] 程式碼編輯器（展示程式碼）
- [ ] （可選）開發者工具 (F12)
- [ ] （可選）ChatGPT/Claude（展示 AI 生成）

### 展示流程確認

1. [ ] 介紹專題背景和動機
2. [ ] 展示系統架構
3. [ ] 啟動伺服器
4. [ ] 展示選歌畫面
5. [ ] 實際遊玩遊戲
6. [ ] 展示結果畫面
7. [ ] 說明 AI 譜面格式
8. [ ] 展示技術特色
9. [ ] 說明硬體整合
10. [ ] 回答問題

## 展示小技巧

### 1. 控制時間
- 提前演練，掌握每個環節的時間
- 準備 2-3 個展示版本（完整版、精簡版）
- 最重要的功能優先展示

### 2. 突發狀況
- 如果伺服器沒啟動：準備錄影畫面
- 如果網頁卡住：重新整理或重啟伺服器
- 如果遊玩失敗：說明這證明遊戲有難度 😄

### 3. 加分項目
- 現場用 AI 生成一個新譜面
- 展示程式碼的優雅設計
- 說明可擴展性和未來計劃
- 強調團隊分工（如果是團隊專題）

## 時間分配建議

**總時長 15-20 分鐘**:
- 介紹: 2-3 分鐘
- 系統展示: 5-7 分鐘
- 技術說明: 3-5 分鐘
- 硬體整合: 2-3 分鐘
- 程式碼: 3-5 分鐘（選擇性）
- Q&A: 彈性

## 結尾

**總結要點**:
1. ✅ 完整的軟硬體整合專題
2. ✅ AI 友善的創新設計
3. ✅ 可玩、可擴展、有趣味性
4. ✅ 實用的技術架構

**展望未來**:
- 增加更多遊戲模式
- 開放給其他玩家使用
- 持續優化和改進

---

**祝展示順利！** 🎮🎵

記得保持微笑和自信！😊
